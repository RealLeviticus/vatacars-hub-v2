(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{4464:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return n(7399)}])},7399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var s=n(6514),o=n(5834),i=n(6225),a=n.n(i),c=n(9120);async function r(e,t){return(await fetch(e,t)).json()}function l(){let{user:e,isLoading:t}=function(){let{redirectTo:e="",redirectIfFound:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:n,mutate:s,isValidating:i}=(0,c.Ay)("/api/session",r);return(0,o.useEffect)(()=>{e&&!i&&(e&&!t&&!(null==n?void 0:n.username)||t&&(null==n?void 0:n.username))&&a().push(e)},[n,t,e,i]),{user:n,mutateUser:s,isLoading:!n&&i}}(),n=(0,i.useRouter)(),[l,d]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{window.ipc.on("storeInteractionReply",e=>{"cookiePwd"!=e.setting||e.property||d(!0)}),window.ipc.send("storeInteraction",{action:"get",setting:"cookiePwd"})},[]),(0,o.useEffect)(()=>{l&&window.ipc.send("storeInteraction",{action:"set",setting:"cookiePwd",property:"9ed540c309861c9cb9a716d9a9c9d58cefea37095e19e23b53f2e4a37ac1cbba"})},[l]),(0,o.useEffect)(()=>{console.log("User:",e),console.log("IsLoading:",t),t||e||n.push("/login")},[e,t,n]),t)?(0,s.jsx)("div",{children:"Loading..."}):e?(0,s.jsxs)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center",children:[(0,s.jsxs)("h1",{className:"text-xl",children:["Welcome, ",e.username,"!"]}),(0,s.jsx)("p",{children:"You are now logged in."}),(0,s.jsx)("h2",{className:"text-xl",children:"We are in a pre release state"})]}):(0,s.jsx)("div",{children:"Redirecting to login..."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[120,636,593,792],()=>t(4464)),_N_E=e.O()}]);