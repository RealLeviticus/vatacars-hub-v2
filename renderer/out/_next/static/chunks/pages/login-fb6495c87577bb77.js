(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{538:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(3308)}])},3308:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(6514),l=a(5834),i=a(7754),n=a(9316),r=a(3066),o=a(6225),c=a(6456),d=a.n(c);let m=()=>{let e=(0,o.useRouter)(),[s,a]=(0,l.useState)(!0),[c,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)(null),x=r.Ik().shape({email:r.Yj().required(),password:r.Yj().required()}),{register:h,handleSubmit:f,formState:b}=(0,i.mN)({resolver:(0,n.t)(x)}),{errors:g}=b;async function N(s){m(!0);let a=await fetch("https://vatacars.com/api/provider/local",{method:"POST",body:JSON.stringify({email:s.email,password:s.password})}).then(e=>e.json());if("success"!==a.status)return m(!1),p(a.message);await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.data)}),p(a.message),setTimeout(()=>e.replace("/home"),2e3)}async function j(){m(!0),await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"0",username:"Anonymous",firstName:"User",lastName:""})}),p("Logged in anonymously."),setTimeout(()=>e.replace("/home"),2e3)}return(0,t.jsx)("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 z-20 w-full max-w-md h-full md:h-auto",children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsx)("div",{className:"flex flex-col items-center text-center",children:(0,t.jsx)("img",{src:"/img/vatacars-logo-dark.png",className:"h-12 my-3"})}),(0,t.jsx)("div",{className:"".concat(u?"":"hidden"," flex justify-center pt-3 px-6 font-medium"),children:u}),(0,t.jsxs)("form",{onSubmit:f(N),className:"w-full px-4 pt-6 flex-col space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{disabled:c,...h("email"),name:"email",type:"text",autoComplete:"email",required:!0,className:"input input-floating peer w-full bg-zinc-800 focus:border focus:border-white",placeholder:"Email Address or username"}),(0,t.jsx)("label",{htmlFor:"email",className:"input-floating-label peer-focus:text-zinc-300",children:"Email / Username"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{disabled:c,...h("password"),name:"password",type:"password",autoComplete:"current-password",required:!0,className:"input input-floating peer w-full bg-zinc-800 focus:border focus:border-white",placeholder:"Password"}),(0,t.jsx)("label",{htmlFor:"password",className:"input-floating-label peer-focus:text-zinc-300",children:"Password"}),(0,t.jsx)("div",{className:"w-full flex justify-end",children:(0,t.jsx)(d(),{href:"https://vatacars.com/auth/forgot",target:"_blank",children:(0,t.jsx)("span",{className:"block cursor-pointer text-sm text-blue-400 link link-animated",children:"Forgot password?"})})})]}),(0,t.jsx)("div",{className:"form-control pt-3",children:(0,t.jsx)("button",{disabled:c,type:"submit",className:"btn inline-flex w-full bg-blue-500 text-slate-100 outline-none hover:bg-blue-400 transition-all duration-200",children:c?(0,t.jsx)("span",{className:"loading loading-infinity"}):"Continue"})}),(0,t.jsxs)("div",{className:"text-center text-sm text-slate-400",children:["Don't have an account yet?",(0,t.jsx)(d(),{href:"https://vatacars.com/auth/signup",target:"_blank",children:(0,t.jsx)("span",{className:"ml-2 font-medium text-blue-400 link link-animated",children:"Sign up"})})]})]}),(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 py-6 text-sm text-slate-600",children:[(0,t.jsx)("div",{className:"h-px w-full bg-slate-400"}),"OR",(0,t.jsx)("div",{className:"h-px w-full bg-slate-400"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 px-4 mb-3",children:[(0,t.jsx)("button",{disabled:c,onClick:async()=>j(),className:"btn inline-flex items-center justify-center gap-4 bg-slate-700 hover:bg-slate-600 border border-transparent hover:border-slate-500 transition-all duration-200",children:(0,t.jsx)("span",{className:"text-sm",children:"Skip Login"})}),(0,t.jsx)("span",{className:"text-center text-sm text-zinc-500",children:"Features may be limited"})]})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[64,636,593,792],()=>s(538)),_N_E=e.O()}]);